<!DOCTYPE html>
<html>
<head>
    <title>Check executeBolo Method</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #1a1a1a; color: #fff; }
        #output { background: #000; padding: 15px; border-radius: 5px; margin: 20px 0; }
        button { background: #ff9933; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
        .info { color: #fff; }
        .success { color: #4ade80; }
        .error { color: #ef4444; }
        .critical { color: #ff3333; font-weight: bold; }
        .code { background: #333; padding: 10px; border-radius: 5px; font-family: monospace; }
    </style>
</head>
<body>
    <h2>üîß Check executeBolo Method</h2>
    <p>This will check if your executeBolo method handles expressions correctly.</p>
    <button onclick="checkBolo()">Check executeBolo</button>
    <div id="output"></div>

    <script src="interpreter.js"></script>

    <script>
        function addOutput(message, type = 'info') {
            const output = document.getElementById('output');
            const div = document.createElement('div');
            div.className = type;
            div.innerHTML = message;
            output.appendChild(div);
        }

        function checkBolo() {
            document.getElementById('output').innerHTML = '';
            
            if (typeof SecureAmitabhCInterpreter === 'undefined') {
                addOutput('‚ùå SecureAmitabhCInterpreter not found!', 'error');
                return;
            }

            const interpreter = new SecureAmitabhCInterpreter();
            let capturedOutput = [];
            
            interpreter.setOutputCallback((msg) => {
                capturedOutput.push(msg);
                addOutput(`CAPTURED: "${msg}"`, 'success');
            });

            addOutput('<h3>üîç Testing executeBolo Method Directly</h3>');
            
            // Test executeBolo directly with different inputs
            const boloTests = [
                'BOLO "Hello World"',
                'BOLO 123',
                'BOLO "Count: " + 5',
                'BOLO SHABD.length("test")',
                'BOLO "Length: " + SHABD.length("test")'
            ];

            boloTests.forEach((boloLine, index) => {
                try {
                    addOutput(`<strong>Test ${index + 1}:</strong> ${boloLine}`, 'info');
                    
                    capturedOutput = [];
                    interpreter.executeBolo(boloLine);
                    
                    if (capturedOutput.length > 0) {
                        addOutput(`‚úÖ Success: Output captured`, 'success');
                    } else {
                        addOutput(`‚ùå Failed: No output captured`, 'critical');
                    }
                    
                } catch (error) {
                    addOutput(`‚ùå Error: ${error.message}`, 'error');
                }
                
                addOutput('');
            });

            addOutput('<h3>üîß Expected executeBolo Logic</h3>');
            addOutput('<div class="code">The executeBolo method should:<br>1. Extract expression after "BOLO"<br>2. Call parseExpression() on it<br>3. Convert result to string<br>4. Call output() with the string</div>');
            
            addOutput('<h3>üéØ If tests above failed, your executeBolo method needs this fix:</h3>');
            addOutput('<div class="code">executeBolo(line) {<br>    const match = line.match(/BOLO\\s+(.+)/);<br>    if (match) {<br>        const expression = match[1].trim();<br>        const value = this.parseExpression(expression);<br>        this.output(String(value));<br>    }<br>}</div>');
        }
    </script>
</body>
</html>