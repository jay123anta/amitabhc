<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AmitabhC - The Bollywood Programming Language</title>
    
    <!-- Security Headers - GitHub Pages Optimized -->
    <meta http-equiv="Content-Security-Policy" 
          content="default-src 'self' https://jay123anta.github.io; 
                   script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://api.countapi.xyz https://api.counterapi.dev; 
                   style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; 
                   img-src 'self' data: https:;
                   connect-src 'self' https://api.countapi.xyz https://api.counterapi.dev https://jay123anta.github.io;
                   frame-ancestors 'none';
                   base-uri 'self';">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Learn programming with AmitabhC - A secure, fun programming language inspired by Amitabh Bachchan's iconic dialogues and Bollywood films.">
    <meta name="keywords" content="AmitabhC, programming language, Amitabh Bachchan, Bollywood coding, learn programming, Hindi programming, secure programming">
    <meta name="author" content="AmitabhC Team">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://jay123anta.github.io/amitabhc/">
    <meta property="og:title" content="AmitabhC - The Bollywood Programming Language">
    <meta property="og:description" content="Code like a superstar with Amitabh Bachchan's iconic dialogues! Learn programming with Bollywood style and enhanced security.">
    <meta property="og:image" content="https://jay123anta.github.io/amitabhc/assets/preview.jpg">
    <meta property="og:site_name" content="AmitabhC">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://jay123anta.github.io/amitabhc/">
    <meta property="twitter:title" content="AmitabhC Programming Language">
    <meta property="twitter:description" content="Learn programming with Bollywood style! Amitabh Bachchan inspired secure coding language.">
    <meta property="twitter:image" content="https://jay123anta.github.io/amitabhc/assets/preview.jpg">
    
    <!-- PWA Support -->
    <meta name="theme-color" content="#ff9933">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="AmitabhC">
    <link rel="manifest" href="manifest.json">
    
    <!-- Icons -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🎬</text></svg>">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/icon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/icon-16.png">
    <link rel="apple-touch-icon" href="assets/icon-192.png">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://api.countapi.xyz">
    <link rel="dns-prefetch" href="https://api.countapi.xyz">
    <link rel="preconnect" href="https://api.counterapi.dev">
    <link rel="dns-prefetch" href="https://api.counterapi.dev">
    
    <!-- Critical CSS - Inline for performance -->
    <style>
        /* Critical above-the-fold styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            overflow-x: hidden;
            background: #1a1a1a;
            color: #fff;
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }

        /* Skip link for accessibility */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: #000;
            color: #fff;
            padding: 8px 16px;
            text-decoration: none;
            border-radius: 4px;
            z-index: 1000;
            transition: top 0.3s;
        }

        .skip-link:focus {
            top: 6px;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            background: linear-gradient(135deg, #ff9933 0%, #ffffff 50%, #138808 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            animation: bgShift 10s ease-in-out infinite;
        }

        @keyframes bgShift {
            0%, 100% { background-size: 100% 100%; }
            50% { background-size: 120% 120%; }
        }

        .hero-content {
            text-align: center;
            z-index: 1;
            padding: 40px;
            background: rgba(255,255,255,0.95);
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 800px;
            margin: 20px;
            backdrop-filter: blur(10px);
        }

        .logo {
            font-size: 5em;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .hero h1 {
            color: #2c3e50;
            font-size: 3.5em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            animation: glow 3s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { text-shadow: 2px 2px 4px rgba(0,0,0,0.1); }
            50% { text-shadow: 2px 2px 20px rgba(255,153,51,0.6); }
        }

        .tagline {
            font-size: 1.5em;
            color: #666;
            margin-bottom: 10px;
            font-style: italic;
        }

        .dialogue {
            font-size: 1.3em;
            color: #ff9933;
            margin-bottom: 40px;
            font-weight: bold;
            padding: 20px;
            background: rgba(255,153,51,0.1);
            border-radius: 15px;
            border-left: 4px solid #ff9933;
        }

        /* CTA Buttons */
        .cta-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 40px;
        }

        .cta-button {
            background: linear-gradient(135deg, #ff9933, #e67e00);
            color: white;
            padding: 20px 40px;
            font-size: 1.3em;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(255,153,51,0.4);
            font-weight: bold;
            min-height: 60px;
            position: relative;
            overflow: hidden;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .cta-button:hover::before {
            left: 100%;
        }

        .cta-button:hover,
        .cta-button:focus {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255,153,51,0.6);
            outline: 3px solid #ff9933;
            outline-offset: 2px;
        }

        .cta-button.secondary {
            background: linear-gradient(135deg, #2c3e50, #34495e);
        }

        .cta-button.secondary:hover {
            box-shadow: 0 8px 25px rgba(44,62,80,0.6);
        }

        .cta-button.pro {
            background: linear-gradient(135deg, #8B5CF6, #6366F1);
            position: relative;
        }

        .cta-button.pro::after {
            content: '✨';
            position: absolute;
            top: -5px;
            right: -5px;
            font-size: 1.5em;
            animation: sparkle 2s infinite;
        }

        @keyframes sparkle {
            0%, 100% { opacity: 1; transform: scale(1) rotate(0deg); }
            50% { opacity: 0.5; transform: scale(1.2) rotate(180deg); }
        }

        /* Visitor Counter Styles */
        .visitor-stats {
            animation: fadeIn 1s ease-in-out;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 5px;
            transition: transform 0.3s ease;
        }

        .stat-item:hover {
            transform: scale(1.1);
        }

        /* Counter status indicators */
        .counter-status {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            font-size: 0.8em;
            padding: 3px 8px;
            border-radius: 10px;
            margin-top: 5px;
        }

        .status-online {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }

        .status-offline {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }

        .status-local {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
        }

        @media (max-width: 768px) {
            .stat-item {
                justify-content: center;
                text-align: center;
            }
        }

        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #ff9933;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Mobile responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5em;
            }

            .hero .logo {
                font-size: 4em;
            }

            .hero-content {
                padding: 30px;
                margin: 10px;
            }

            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }

            .cta-button {
                width: 100%;
                max-width: 300px;
                padding: 16px 32px;
                font-size: 1.1em;
            }
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
    
    <!-- Non-critical CSS - Load asynchronously -->
    <link rel="preload" href="styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="styles.css"></noscript>
</head>
<body>
    <!-- Skip link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Hero Section -->
    <main id="main-content" role="main">
        <section class="hero" aria-labelledby="hero-title">
            <div class="hero-content">
                <div class="logo" aria-hidden="true">🎬</div>
                <h1 id="hero-title">AmitabhC</h1>
                <p class="tagline">The Bollywood Programming Language</p>
                <div class="dialogue" role="banner">
                    "Jahan code shuru hota hai, wahin se programming ki line shuru hoti hai!"
                    <br><small style="opacity: 0.8;">- Secure, Accessible, Modern</small>
                </div>
                
                <nav role="navigation" aria-label="Main actions">
                    <div class="cta-buttons">
                        <a href="editor.html" 
                           class="cta-button" 
                           aria-describedby="basic-editor-desc"
                           id="startCodingBtn">
                            🚀 Start Coding
                        </a>
                        <div id="basic-editor-desc" class="sr-only">
                            Open the basic AmitabhC code editor to start programming with Bollywood dialogues
                        </div>
                        
                        <a href="pro.html" 
                           class="cta-button pro" 
                           aria-describedby="pro-editor-desc"
                           id="proIdeBtn">
                            💎 Try Pro IDE
                        </a>
                        <div id="pro-editor-desc" class="sr-only">
                            Open the professional AmitabhC IDE with AI assistant and advanced features
                        </div>
                        
                        <a href="#features" 
                           class="cta-button secondary" 
                           aria-describedby="learn-more-desc"
                           id="learnMoreBtn">
                            📚 Learn More
                        </a>
                        <div id="learn-more-desc" class="sr-only">
                            Learn more about AmitabhC features and capabilities
                        </div>
                    </div>
                </nav>
                
                <p style="color: #666; margin-top: 20px; font-size: 1.1em;">
                    🔒 <strong>Secure by Design</strong> • 
                    ♿ <strong>Fully Accessible</strong> • 
                    📱 <strong>Mobile Friendly</strong>
                </p>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="features fade-in" aria-labelledby="features-title">
            <div class="features-container">
                <h2 id="features-title">🌟 Why Choose AmitabhC?</h2>
                <p style="font-size: 1.2em; color: #8b949e; margin-bottom: 30px; text-align: center;">
                    Experience programming like never before with Bollywood-inspired syntax and enterprise-grade security!
                </p>
                
                <div class="features-grid">
                    <div class="feature-card" tabindex="0">
                        <div class="feature-icon">🎭</div>
                        <h3>Bollywood Syntax</h3>
                        <p>Write code using iconic dialogues and film names from Amitabh Bachchan's legendary career. Makes programming fun, memorable, and culturally rich!</p>
                        <ul class="feature-details">
                            <li>🎬 Film-based keywords (SHOLAY, DEEWAR, DON)</li>
                            <li>🎯 KBC interactive programming</li>
                            <li>💬 Dialogue-driven commands</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card" tabindex="0">
                        <div class="feature-icon">🛡️</div>
                        <h3>Enterprise Security</h3>
                        <p>Built with modern security practices - no eval() functions, comprehensive input sanitization, and advanced protection against common vulnerabilities.</p>
                        <ul class="feature-details">
                            <li>🔒 No eval() or unsafe execution</li>
                            <li>🧹 XSS protection and input sanitization</li>
                            <li>⚡ Execution timeouts and memory limits</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card" tabindex="0">
                        <div class="feature-icon">🎯</div>
                        <h3>KBC Interactive</h3>
                        <p>Special commands inspired by "Kaun Banega Crorepati" for interactive programming with lifelines, audience polls, and game mechanics!</p>
                        <ul class="feature-details">
                            <li>📞 PHONE_A_FRIEND for help</li>
                            <li>📊 AUDIENCE_POLL for decisions</li>
                            <li>💡 LIFELINE_FIFTY_FIFTY options</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card" tabindex="0">
                        <div class="feature-icon">🤖</div>
                        <h3>AI Assistant</h3>
                        <p>Get intelligent coding help with our built-in AI assistant that understands AmitabhC syntax and provides contextual suggestions and debugging support.</p>
                        <ul class="feature-details">
                            <li>💡 Smart code suggestions</li>
                            <li>🐛 Advanced debugging help</li>
                            <li>📚 Context-aware documentation</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card" tabindex="0">
                        <div class="feature-icon">📱</div>
                        <h3>Mobile Excellence</h3>
                        <p>Fully responsive design with PWA support. Code anywhere, anytime with offline functionality and native app-like experience on mobile devices.</p>
                        <ul class="feature-details">
                            <li>📲 Progressive Web App (PWA)</li>
                            <li>🔄 Offline functionality</li>
                            <li>☁️ Auto-sync when online</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card" tabindex="0">
                        <div class="feature-icon">♿</div>
                        <h3>Universal Access</h3>
                        <p>WCAG 2.1 AA compliant with comprehensive screen reader support, keyboard navigation, high contrast options, and multi-language accessibility.</p>
                        <ul class="feature-details">
                            <li>🗣️ Screen reader optimized</li>
                            <li>⌨️ Full keyboard navigation</li>
                            <li>🎨 High contrast support</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Demo Section -->
        <section class="demo fade-in" aria-labelledby="demo-title">
            <div class="demo-container">
                <h2 id="demo-title">🎬 See AmitabhC in Action</h2>
                <p style="font-size: 1.2em; margin-bottom: 30px;">
                    Here's a simple program that showcases the Bollywood magic with secure execution!
                </p>
                
                <div class="code-preview">
                    <div class="code-header">
                        <span>🎬 AmitabhC Program</span>
                        <button onclick="copyCode()" aria-label="Copy code to clipboard" class="copy-btn">
                            📋 Copy
                        </button>
                    </div>
                    <pre><code id="demoCode">LIGHTS
CAMERA
    // Welcome to Secure Bollywood Programming!
    DEVIYON_AUR_SAJJANO
    BOLO "Namaste! Main hoon AmitabhC!"
    
    // Declare variables like a superstar
    VIJAY name = "Amitabh Bachchan"
    VIJAY age = 80
    DON films = 200
    
    // Show the power of Bollywood
    BOLO "Superstar Details:"
    BOLO "Name: " + name
    BOLO "Age: " + age + " years"
    BOLO "Films: " + films + " movies"
    
    // Conditional logic with style
    AGAR age > 75
        BOLO "Main hoon ek living legend!"
        COMPUTER_JI_LOCK_KIYA_JAYE
    BAS
    
    // Function demonstration
    NAAM greet(message)
        BOLO "🎬 " + message
        WAPAS SHAKTI
    PURA
    
    greet("Rishtey mein toh hum tumhare compiler lagte hain!")
ACTION</code></pre>
                </div>
                
                <div class="demo-output">
                    <h4>📺 Expected Output:</h4>
                    <div class="output-lines">
                        <div class="output-line kbc">🎯 Deviyon aur Sajjano, namaskar! Welcome to AmitabhC! 🎬</div>
                        <div class="output-line">Namaste! Main hoon AmitabhC!</div>
                        <div class="output-line">Superstar Details:</div>
                        <div class="output-line">Name: Amitabh Bachchan</div>
                        <div class="output-line">Age: 80 years</div>
                        <div class="output-line">Films: 200 movies</div>
                        <div class="output-line">Main hoon ek living legend!</div>
                        <div class="output-line success">💻 Computer ji, lock kiya jaaye! Answer locked! ✅</div>
                        <div class="output-line">🎬 Rishtey mein toh hum tumhare compiler lagte hain!</div>
                    </div>
                </div>
                
                <div style="margin-top: 40px; text-align: center;">
                    <a href="editor.html" class="cta-button" id="tryCodeBtn">
                        ▶️ Try This Code Now!
                    </a>
                    <a href="pro.html" class="cta-button pro" style="margin-left: 20px;">
                        🚀 Open in Pro IDE
                    </a>
                </div>
            </div>
        </section>

        <!-- Security Section -->
        <section class="security-section fade-in" aria-labelledby="security-title">
            <div class="security-container">
                <h2 id="security-title">🔒 Security First Approach</h2>
                <p>AmitabhC is built with enterprise-grade security from the ground up.</p>
                
                <div class="security-grid">
                    <div class="security-feature">
                        <h3>🛡️ No Code Injection</h3>
                        <p>Zero use of eval() or Function() constructors. All code execution is through secure parsing.</p>
                    </div>
                    <div class="security-feature">
                        <h3>🧹 Input Sanitization</h3>
                        <p>Comprehensive sanitization of all user inputs to prevent XSS and injection attacks.</p>
                    </div>
                    <div class="security-feature">
                        <h3>⏱️ Resource Limits</h3>
                        <p>Built-in execution timeouts, memory limits, and loop protections prevent abuse.</p>
                    </div>
                    <div class="security-feature">
                        <h3>🔐 CSP Headers</h3>
                        <p>Content Security Policy implementation blocks unauthorized script execution.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <div class="footer-container">
            <div class="footer-grid">
                <div class="footer-section">
                    <h3>🎬 AmitabhC</h3>
                    <p>The world's first secure Bollywood-inspired programming language. Learn to code with the legendary dialogues of Amitabh Bachchan!</p>
                    <p style="color: #ff9933; font-style: italic; margin-top: 10px;">"Keh diya, bas keh diya!"</p>
                    <div class="social-links">
                        <a href="#" aria-label="Share on Twitter" onclick="shareOnTwitter()">🐦 Twitter</a>
                        <a href="#" aria-label="Share on Facebook" onclick="shareOnFacebook()">📘 Facebook</a>
                        <a href="#" aria-label="Star on GitHub" onclick="starOnGitHub()">⭐ GitHub</a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3>🚀 Get Started</h3>
                    <ul>
                        <li><a href="editor.html">Basic Editor</a></li>
                        <li><a href="pro.html">Professional IDE</a></li>
                        <li><a href="#features">Features Overview</a></li>
                        <li><a href="version.json">API Documentation</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>🎯 Learn & Explore</h3>
                    <ul>
                        <li><a href="editor.html#examples-title">Example Programs</a></li>
                        <li><a href="editor.html#reference-title">Language Reference</a></li>
                        <li><a href="pro.html">KBC Programming</a></li>
                        <li><a href="offline.html">Offline Support</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>🌟 Community & Support</h3>
                    <ul>
                        <li><a href="https://github.com/jay123anta/amitabhc" target="_blank" rel="noopener">Open Source</a></li>
                        <li><a href="#" onclick="showAbout()">About Project</a></li>
                        <li><a href="mailto:hello@amitabhc.dev">Contact Us</a></li>
                        <li><a href="#" onclick="reportIssue()">Report Issue</a></li>
                        <li><a href="stats.html">📊 View Statistics</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 AmitabhC Programming Language. Created with ❤️ for Bollywood fans worldwide.</p>
                <p>Inspired by the legendary Amitabh Bachchan and his iconic films.</p>
                
                <!-- Enhanced Visitor Counter -->
                <div class="visitor-stats" style="margin: 15px 0; padding: 15px; background: rgba(255,153,51,0.1); border-radius: 10px; border: 1px solid rgba(255,153,51,0.3);">
                    <div style="display: flex; justify-content: center; gap: 30px; flex-wrap: wrap;">
                        <div class="stat-item">
                            <span style="font-size: 1.5em; color: #ff9933;">👥</span>
                            <div>
                                <div style="font-size: 1.2em; font-weight: bold; color: #ff9933;" id="visitorCount">Loading...</div>
                                <div style="font-size: 0.8em; opacity: 0.8;">Total Visitors</div>
                                <div class="counter-status" id="globalCounterStatus">
                                    <span id="globalStatusDot">🟡</span> Checking API...
                                </div>
                            </div>
                        </div>
                        <div class="stat-item">
                            <span style="font-size: 1.5em; color: #ff9933;">🎬</span>
                            <div>
                                <div style="font-size: 1.2em; font-weight: bold; color: #ff9933;" id="todayCount">Loading...</div>
                                <div style="font-size: 0.8em; opacity: 0.8;">Today's Visitors</div>
                                <div class="counter-status status-local">
                                    <span>🟢</span> Local Storage
                                </div>
                            </div>
                        </div>
                        <div class="stat-item">
                            <span style="font-size: 1.5em; color: #ff9933;">🌟</span>
                            <div>
                                <div style="font-size: 1.2em; font-weight: bold; color: #ff9933;" id="uniqueCount">Loading...</div>
                                <div style="font-size: 0.8em; opacity: 0.8;">Unique Users</div>
                                <div class="counter-status status-local">
                                    <span>🟢</span> Local Tracking
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="footer-meta">
                    <span style="color: #ff9933;">Version 2.0.3 Secure Edition</span> • 
                    <a href="version.json">Release Notes</a> • 
                    <a href="manifest.json">PWA Info</a> • 
                    <a href="#" onclick="showPrivacy()">Privacy</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Enhanced JavaScript with improved counter system -->
    <script>
        // Enhanced AmitabhC Counter System
        class AmitabhCCounter {
            constructor() {
                this.apis = {
                    countapi: {
                        name: 'CountAPI',
                        hitUrl: 'https://api.countapi.xyz/hit/jay123anta.github.io/amitabhc/visits',
                        getUrl: 'https://api.countapi.xyz/get/jay123anta.github.io/amitabhc/visits',
                        status: 'unknown',
                        timeout: 5000
                    },
                    counterapi: {
                        name: 'CounterAPI',
                        hitUrl: 'https://api.counterapi.dev/v1/amitabhc-github/visits/up',
                        getUrl: 'https://api.counterapi.dev/v1/amitabhc-github/visits',
                        status: 'unknown',
                        timeout: 5000
                    }
                };
                
                this.localKeys = {
                    total: 'amitabhc_gh_total_visitors',
                    today: 'amitabhc_gh_today_visitors',
                    unique: 'amitabhc_gh_unique_visitors',
                    lastVisit: 'amitabhc_gh_last_visit_date',
                    globalVisitors: 'amitabhc_gh_global_visitors',
                    visitorId: 'amitabhc_gh_visitor_id',
                    lastTimestamp: 'amitabhc_gh_last_visit_timestamp'
                };
                
                this.init();
            }
            
            init() {
                console.log('🎬 Initializing AmitabhC Enhanced Counter System...');
                this.trackVisit();
                this.updateDisplay();
                this.fetchGlobalCounts();
            }
            
            trackVisit() {
                try {
                    // Track total visits
                    const total = parseInt(localStorage.getItem(this.localKeys.total) || '0');
                    localStorage.setItem(this.localKeys.total, (total + 1).toString());
                    
                    // Track daily visits
                    const today = new Date().toDateString();
                    const lastVisit = localStorage.getItem(this.localKeys.lastVisit);
                    
                    if (lastVisit !== today) {
                        localStorage.setItem(this.localKeys.today, '1');
                        localStorage.setItem(this.localKeys.lastVisit, today);
                        console.log('📅 New day detected, reset daily counter');
                    } else {
                        const todayCount = parseInt(localStorage.getItem(this.localKeys.today) || '0');
                        localStorage.setItem(this.localKeys.today, (todayCount + 1).toString());
                    }
                    
                    // Track unique visitors
                    const isFirstVisit = !localStorage.getItem(this.localKeys.visitorId);
                    if (isFirstVisit) {
                        const visitorId = this.generateVisitorId();
                        localStorage.setItem(this.localKeys.visitorId, visitorId);
                        
                        const uniqueVisitors = parseInt(localStorage.getItem(this.localKeys.unique) || '0');
                        localStorage.setItem(this.localKeys.unique, (uniqueVisitors + 1).toString());
                        
                        console.log('🌟 First-time visitor tracked');
                    }
                    
                    // Store visit timestamp
                    localStorage.setItem(this.localKeys.lastTimestamp, Date.now().toString());
                    
                } catch (error) {
                    console.error('❌ Local tracking error:', error);
                }
            }
            
            generateVisitorId() {
                return 'gh_visitor_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            }
            
            updateDisplay() {
                try {
                    const total = parseInt(localStorage.getItem(this.localKeys.total) || '0');
                    const today = parseInt(localStorage.getItem(this.localKeys.today) || '0');
                    const unique = parseInt(localStorage.getItem(this.localKeys.unique) || '0');
                    
                    document.getElementById('visitorCount').textContent = this.formatNumber(total);
                    document.getElementById('todayCount').textContent = this.formatNumber(today);
                    document.getElementById('uniqueCount').textContent = this.formatNumber(unique);
                    
                } catch (error) {
                    console.error('❌ Display update error:', error);
                }
            }
            
            formatNumber(num) {
                if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
                if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
                return num.toString();
            }
            
            async fetchGlobalCounts() {
                console.log('🌍 Fetching global visitor counts...');
                this.updateCounterStatus('checking');
                
                // Try CountAPI first with timeout
                const countApiResult = await this.tryCountAPI();
                if (countApiResult.success) {
                    this.updateCounterStatus('online', 'CountAPI');
                    document.getElementById('visitorCount').textContent = this.formatNumber(countApiResult.value);
                    localStorage.setItem(this.localKeys.globalVisitors, countApiResult.value.toString());
                    return;
                }
                
                // Try CounterAPI as fallback
                const counterApiResult = await this.tryCounterAPI();
                if (counterApiResult.success) {
                    this.updateCounterStatus('online', 'CounterAPI');
                    document.getElementById('visitorCount').textContent = this.formatNumber(counterApiResult.value);
                    localStorage.setItem(this.localKeys.globalVisitors, counterApiResult.value.toString());
                    return;
                }
                
                // Both APIs failed, use local fallback
                this.updateCounterStatus('offline');
                this.setFallbackCounts();
                console.log('📊 Using local counts as fallback');
            }
            
            async tryCountAPI() {
                try {
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), this.apis.countapi.timeout);
                    
                    const response = await fetch(this.apis.countapi.hitUrl, {
                        signal: controller.signal,
                        headers: { 'Accept': 'application/json' }
                    });
                    
                    clearTimeout(timeoutId);
                    
                    if (response.ok) {
                        const data = await response.json();
                        console.log('✅ CountAPI working:', data.value);
                        return { success: true, value: data.value, source: 'CountAPI' };
                    } else {
                        throw new Error(`HTTP ${response.status}`);
                    }
                } catch (error) {
                    console.log('❌ CountAPI failed:', error.message);
                    return { success: false, error: error.message };
                }
            }
            
            async tryCounterAPI() {
                try {
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), this.apis.counterapi.timeout);
                    
                    const response = await fetch(this.apis.counterapi.hitUrl, {
                        method: 'POST',
                        signal: controller.signal,
                        headers: { 'Accept': 'application/json' }
                    });
                    
                    clearTimeout(timeoutId);
                    
                    if (response.ok) {
                        const data = await response.json();
                        console.log('✅ CounterAPI working:', data.count);
                        return { success: true, value: data.count, source: 'CounterAPI' };
                    } else {
                        throw new Error(`HTTP ${response.status}`);
                    }
                } catch (error) {
                    console.log('❌ CounterAPI failed:', error.message);
                    return { success: false, error: error.message };
                }
            }
            
            updateCounterStatus(status, apiName = null) {
                const statusElement = document.getElementById('globalCounterStatus');
                const dotElement = document.getElementById('globalStatusDot');
                
                if (status === 'checking') {
                    statusElement.className = 'counter-status';
                    dotElement.textContent = '🟡';
                    statusElement.innerHTML = `${dotElement.outerHTML} Checking APIs...`;
                } else if (status === 'online') {
                    statusElement.className = 'counter-status status-online';
                    dotElement.textContent = '🟢';
                    statusElement.innerHTML = `${dotElement.outerHTML} ${apiName} Active`;
                } else if (status === 'offline') {
                    statusElement.className = 'counter-status status-offline';
                    dotElement.textContent = '🔴';
                    statusElement.innerHTML = `${dotElement.outerHTML} APIs Offline`;
                }
            }
            
            setFallbackCounts() {
                const baseVisitors = 1247; // Starting base number for GitHub Pages
                const randomExtra = Math.floor(Math.random() * 200) + 50;
                const totalVisitors = baseVisitors + randomExtra;
                
                // Don't override if we have a real global count stored
                const storedGlobal = localStorage.getItem(this.localKeys.globalVisitors);
                if (!storedGlobal || storedGlobal === '0') {
                    document.getElementById('visitorCount').textContent = this.formatNumber(totalVisitors);
                }
            }
        }

        // Performance monitoring
        const perf = {
            start: performance.now(),
            marks: {},
            mark(name) {
                this.marks[name] = performance.now() - this.start;
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'timing_complete', {
                        name: name,
                        value: Math.round(this.marks[name])
                    });
                }
            }
        };

        // Global error handler
        window.addEventListener('error', function(event) {
            console.error('Global error:', event.error);
            if (typeof gtag !== 'undefined') {
                gtag('event', 'exception', {
                    description: event.error?.message || 'Unknown error',
                    fatal: false
                });
            }
        });

        // Promise rejection handler
        window.addEventListener('unhandledrejection', function(event) {
            console.error('Unhandled promise rejection:', event.reason);
            event.preventDefault();
        });

        // Initialize counter system
        let counterSystem;

        // Enhanced smooth scrolling with error handling
        document.addEventListener('DOMContentLoaded', function() {
            perf.mark('dom_loaded');
            
            // Initialize counter system
            counterSystem = new AmitabhCCounter();
            
            // Smooth scroll for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(function(anchor) {
                anchor.addEventListener('click', function(e) {
                    try {
                        const targetId = this.getAttribute('href');
                        if (targetId === '#') return;
                        
                        const target = document.querySelector(targetId);
                        if (target) {
                            e.preventDefault();
                            target.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                            
                            target.focus();
                            trackEvent('scroll_to_section', { section: targetId.slice(1) });
                        }
                    } catch (error) {
                        console.error('Scroll error:', error);
                    }
                });
            });

            // Lazy load features with intersection observer
            initializeIntersectionObserver();
            
            // Initialize analytics
            initializeAnalytics();
            
            // Load features
            loadDynamicContent();
            
            perf.mark('initialization_complete');
        });

        // Intersection Observer for lazy loading and animations
        function initializeIntersectionObserver() {
            if ('IntersectionObserver' in window) {
                const observer = new IntersectionObserver(function(entries) {
                    entries.forEach(function(entry) {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                            
                            const sectionName = entry.target.id || entry.target.className;
                            trackEvent('section_view', { section: sectionName });
                        }
                    });
                }, {
                    threshold: 0.1,
                    rootMargin: '0px 0px -50px 0px'
                });
                
                document.querySelectorAll('.fade-in').forEach(function(el) {
                    observer.observe(el);
                });
            } else {
                document.querySelectorAll('.fade-in').forEach(function(el) {
                    el.classList.add('visible');
                });
            }
        }

        // Service Worker registration with update handling
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('sw.js')
                    .then(function(registration) {
                        console.log('SW registered successfully');
                        
                        registration.addEventListener('updatefound', function() {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', function() {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    showUpdateNotification();
                                }
                            });
                        });
                        
                        perf.mark('service_worker_registered');
                    })
                    .catch(function(error) {
                        console.log('SW registration failed:', error);
                    });
            });
        }

        // Show update notification
        function showUpdateNotification() {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #56d364;
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                z-index: 1000;
                max-width: 300px;
            `;
            notification.innerHTML = `
                <strong>🎉 Update Available!</strong><br>
                <small>New features and improvements are ready.</small><br>
                <button onclick="location.reload()" style="background:none;border:1px solid white;color:white;padding:5px 10px;border-radius:5px;margin-top:10px;cursor:pointer;">
                    Reload Now
                </button>
                <button onclick="this.parentNode.remove()" style="background:none;border:none;color:white;float:right;cursor:pointer;font-size:18px;">×</button>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 10000);
        }

        // Enhanced button interactions
        function initializeAnalytics() {
            document.querySelectorAll('.cta-button').forEach(button => {
                button.addEventListener('click', function() {
                    const destination = this.href || this.onclick?.toString() || 'unknown';
                    trackEvent('cta_click', {
                        button_text: this.textContent.trim(),
                        destination: destination
                    });
                });
            });

            document.querySelectorAll('.feature-card').forEach(card => {
                card.addEventListener('click', function() {
                    const featureName = this.querySelector('h3')?.textContent || 'unknown';
                    trackEvent('feature_explore', {
                        feature: featureName
                    });
                });
            });
        }

        // Copy code functionality
        function copyCode() {
            const code = document.getElementById('demoCode').textContent;
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(code).then(() => {
                    showToast('🎬 Code copied to clipboard!');
                    trackEvent('code_copied', { source: 'demo' });
                }).catch(err => {
                    console.error('Copy failed:', err);
                    fallbackCopy(code);
                });
            } else {
                fallbackCopy(code);
            }
        }

        function fallbackCopy(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showToast('🎬 Code copied to clipboard!');
                trackEvent('code_copied', { source: 'demo', method: 'fallback' });
            } catch (err) {
                console.error('Fallback copy failed:', err);
                showToast('❌ Copy failed. Please select and copy manually.');
            }
            
            document.body.removeChild(textArea);
        }

        // Toast notification system
        function showToast(message, duration = 3000) {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: #ff9933;
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                z-index: 1000;
                animation: slideIn 0.3s ease;
            `;
            toast.textContent = message;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    if (toast.parentNode) {
                        toast.parentNode.removeChild(toast);
                    }
                }, 300);
            }, duration);
        }

        // Social sharing functions
        function shareOnTwitter() {
            const text = "Check out AmitabhC - The Bollywood Programming Language! Code like a superstar with Amitabh Bachchan's iconic dialogues! 🎬";
            const url = window.location.href;
            window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`, '_blank');
            trackEvent('social_share', { platform: 'twitter' });
        }

        function shareOnFacebook() {
            const url = window.location.href;
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank');
            trackEvent('social_share', { platform: 'facebook' });
        }

        function starOnGitHub() {
            window.open('https://github.com/jay123anta/amitabhc', '_blank');
            trackEvent('github_star', {});
        }

        // Utility functions
        function showAbout() {
            const message = `🎬 AmitabhC - The Bollywood Programming Language

Version: 2.0.3 Secure Edition

🌟 Features:
• Bollywood-inspired syntax with iconic dialogues
• Enterprise-grade security with no eval() functions
• Professional IDE with AI assistant
• KBC interactive programming commands
• Full accessibility (WCAG 2.1 AA compliant)
• Mobile-responsive PWA with offline support
• Enhanced visitor counter with multiple API fallbacks

🎯 Perfect for:
• Learning programming with cultural flair
• Teaching coding concepts in Hindi/Hinglish
• Creating fun educational projects
• Bollywood fans who love to code

🎬 "Rishtey mein toh hum tumhare secure compiler lagte hain!"

Created with ❤️ for Bollywood programming enthusiasts worldwide!`;
            
            alert(message);
            trackEvent('about_viewed', {});
        }

        function showPrivacy() {
            const message = `🔒 AmitabhC Privacy Policy

We respect your privacy:
• Enhanced visitor counting with multiple API fallbacks
• Anonymous visitor tracking (no personal data)
• Local storage for your code and visit counts
• No tracking cookies or personal identification
• Global counts from CountAPI/CounterAPI (anonymous)
• Open source and transparent
• Visitor stats are aggregated and anonymous

Your code stays on your device unless you explicitly share it.
Visitor counts help us understand our community growth.
Multiple API fallbacks ensure reliable counting.`;
            
            alert(message);
            trackEvent('privacy_viewed', {});
        }

        function reportIssue() {
            window.open('https://github.com/jay123anta/amitabhc/issues', '_blank');
            trackEvent('issue_report', {});
        }

        // Analytics tracking (privacy-friendly)
        function trackEvent(eventName, properties = {}) {
            console.log('Event:', eventName, properties);
            
            if (typeof gtag !== 'undefined') {
                gtag('event', eventName, properties);
            }
        }

        // Load dynamic content
        function loadDynamicContent() {
            perf.mark('dynamic_content_loaded');
        }

        // Performance monitoring completion
        window.addEventListener('load', function() {
            perf.mark('page_loaded');
            
            if (typeof gtag !== 'undefined') {
                gtag('event', 'page_load_time', {
                    value: Math.round(perf.marks.page_loaded)
                });
            }
            
            console.log('🎬 AmitabhC Landing Page with Enhanced Counter loaded successfully!');
            console.log('Performance marks:', perf.marks);
        });

        // Visitor engagement tracking
        function trackEngagement() {
            let startTime = Date.now();
            let maxScroll = 0;
            let interactions = 0;
            
            window.addEventListener('scroll', function() {
                const scrollPercent = Math.round((window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100);
                maxScroll = Math.max(maxScroll, scrollPercent);
            });
            
            document.addEventListener('click', function() {
                interactions++;
            });
            
            window.addEventListener('beforeunload', function() {
                const timeSpent = Math.round((Date.now() - startTime) / 1000);
                
                trackEvent('engagement', {
                    time_spent: timeSpent,
                    max_scroll: maxScroll,
                    interactions: interactions,
                    engaged: timeSpent > 30 || interactions > 2 || maxScroll > 50,
                    platform: 'GitHub Pages'
                });
            });
        }

        // Initialize visitor analytics
        document.addEventListener('DOMContentLoaded', function() {
            trackEngagement();
        });

        // Keyboard shortcuts and accessibility
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const activeElement = document.activeElement;
                if (activeElement && activeElement.blur) {
                    activeElement.blur();
                }
            }
            
            if (e.key === 'Tab') {
                document.body.classList.add('using-keyboard');
            }
        });

        document.addEventListener('mousedown', function() {
            document.body.classList.remove('using-keyboard');
        });

        // Dark mode detection and handling
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.body.classList.add('dark-mode');
        }

        if (window.matchMedia) {
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function(e) {
                if (e.matches) {
                    document.body.classList.add('dark-mode');
                } else {
                    document.body.classList.remove('dark-mode');
                }
            });
        }

        // PWA install prompt
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            showInstallPrompt();
        });

        function showInstallPrompt() {
            const installBanner = document.createElement('div');
            installBanner.style.cssText = `
                position: fixed;
                bottom: 20px;
                left: 20px;
                background: #8B5CF6;
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                z-index: 1000;
                max-width: 300px;
            `;
            installBanner.innerHTML = `
                <strong>📱 Install AmitabhC</strong><br>
                <small>Get the app for the best experience!</small><br>
                <button onclick="installPWA()" style="background:white;color:#8B5CF6;border:none;padding:8px 16px;border-radius:5px;margin-top:10px;cursor:pointer;">
                    Install App
                </button>
                <button onclick="this.parentNode.remove()" style="background:none;border:none;color:white;float:right;cursor:pointer;font-size:18px;">×</button>
            `;
            
            document.body.appendChild(installBanner);
            
            setTimeout(() => {
                if (installBanner.parentNode) {
                    installBanner.parentNode.removeChild(installBanner);
                }
            }, 15000);
        }

        function installPWA() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    trackEvent('pwa_install', { choice: choiceResult.outcome, platform: 'GitHub Pages' });
                    deferredPrompt = null;
                });
            }
        }

        // Add slide-in animation CSS
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
            
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(30px); }
                to { opacity: 1; transform: translateY(0); }
            }
            
            .fade-in {
                opacity: 0;
                animation: fadeIn 0.6s ease forwards;
            }
            
            .fade-in.visible {
                opacity: 1;
            }
            
            .using-keyboard *:focus {
                outline: 2px solid #ff9933 !important;
                outline-offset: 2px !important;
            }
            
            .dark-mode {
                background: #0d1117;
                color: #e6edf3;
            }
        `;
        document.head.appendChild(style);
    </script>
    
    <!-- Structured data for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "AmitabhC",
        "description": "The Bollywood Programming Language - Learn coding with Amitabh Bachchan's iconic dialogues",
        "url": "https://jay123anta.github.io/amitabhc/",
        "author": {
            "@type": "Organization",
            "name": "AmitabhC Team"
        },
        "operatingSystem": "Any",
        "applicationCategory": "DeveloperApplication",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "150"
        }
    }
    </script>
</body>
</html>